(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{99:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"importFolder",(function(){return x})),n.d(r,"getDirHandler",(function(){return m})),n.d(r,"open",(function(){return y})),n.d(r,"newEditor",(function(){return w})),n.d(r,"changeEditorContent",(function(){return g})),n.d(r,"closeEditor",(function(){return S})),n.d(r,"openTreeItem",(function(){return E})),n.d(r,"newFile",(function(){return k})),n.d(r,"setCurrentIndex",(function(){return I})),n.d(r,"saveAs",(function(){return T})),n.d(r,"save",(function(){return _})),n.d(r,"saveAsStateUpdate",(function(){return F}));var a,c=n(0),i=n.n(c),o=n(20),u=n.n(o),s=n(31),d=n(75),l=n(24),f=n(15),b=n(13),h={bg1:"#040404",bg1Hover:"#111111",bg2:"#151515",bg3:"#242424",gray:"#757575",white:"#fff",black:"#000",blue:"#6CC7F6",red:"#E1270E",green:"#5BC266"},p=n(4),j=n.n(p),O=n(16),v=n(29);n(94);!function(e){e.GET_DIRECTORY_HANDLER="get_directory_handler",e.OPEN="open",e.OPEN_TREE_ITEM="open_tree_item",e.NEW_EDITOR="new_editor",e.CLOSE_EDITOR="close_editor",e.IMPORT_FOLDER="import_folder",e.CHANGE_EDITOR_CONTENT="change_editor_content",e.SAVE="save",e.SAVE_AS="save_as",e.SAVE_AS_STATE_UPDATE="update_current_fs_state",e.COPY="copy",e.PASTY="paste",e.MOVE="move",e.DELETE="delete",e.NEW_FILE="new_file",e.SET_CURRENT_INDEX="set_current_index"}(a||(a={}));var x=function(e){var t=e.searchTable;return{type:a.IMPORT_FOLDER,payload:{searchTable:t}}},m=function(){return{type:a.GET_DIRECTORY_HANDLER}},y=function(e){return{type:a.OPEN,payload:{fileHandler:e}}},w=function(e){return{type:a.NEW_EDITOR,payload:{fileArray:e}}},g=function(e){return{type:a.CHANGE_EDITOR_CONTENT,payload:{content:e}}},S=function(e){return{type:a.CLOSE_EDITOR,payload:{index:e}}},E=function(e,t){return{type:a.OPEN_TREE_ITEM,payload:{fileHandler:e,id:t}}},k=function(e){return{type:a.NEW_FILE,payload:{id:e}}},I=function(e){return{type:a.SET_CURRENT_INDEX,payload:{index:e}}},T=function(e){return{type:a.SAVE_AS,payload:{destinationHandler:e}}},_=function(){return{type:a.SAVE,payload:{}}},F=function(e,t,n,r){return{type:a.SAVE_AS_STATE_UPDATE,payload:{ancestorId:r,desId:e,desName:t,desType:n}}},R=r,N=a,A=n(39),C=n(25),P=n(64),D=n(65),H=n(6),L=n(26),M=n(66),U=n(124),V=Object(L.a)("fileSystemTree"),z=Object(L.a)("rootHandler"),W=Object(L.a)("fileTable"),B=Object(L.a)("searchTable"),G=Object(L.a)("instance"),X=Object(L.a)("compareFileSystemTree"),Y=Object(L.a)("setRootHandler"),J=Object(L.a)("recursiveScanFolder"),q=Object(L.a)("findNodeFromPath"),K=Object(L.a)("removeRepeatedFilesOpened"),Q=function(){function e(){var t=this;if(Object(P.a)(this,e),Object.defineProperty(this,K,{value:$}),Object.defineProperty(this,q,{value:Z}),Object.defineProperty(this,V,{writable:!0,value:[]}),Object.defineProperty(this,z,{writable:!0,value:void 0}),Object.defineProperty(this,W,{writable:!0,value:{}}),Object.defineProperty(this,B,{writable:!0,value:{}}),Object.defineProperty(this,X,{writable:!0,value:function(e,t){if(e.handle.kind!==t.handle.kind)return"directory"===e.handle.kind?-1:1;var n=e.handle.name.toLocaleLowerCase(),r=t.handle.name.toLocaleLowerCase();return n.localeCompare(r)>0?-1:1}}),Object.defineProperty(this,Y,{writable:!0,value:function(e){Object(H.a)(t,z)[z]=e}}),Object.defineProperty(this,J,{writable:!0,value:function(){var e=Object(O.a)(j.a.mark((function e(n){var r,a,c,i,o,u,s,d,l,f,b,h,p;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=n.handle,e.prev=1,i=c.entries(),o=!0,u=!1,e.prev=5,d=Object(M.a)(i);case 7:return e.next=9,d.next();case 9:return l=e.sent,o=l.done,e.next=13,l.value;case 13:if(f=e.sent,o){e.next=30;break}if(b=f,h=Object(C.a)(b,2),h[0],p=h[1],a=Object(U.a)(),"directory"!==p.kind){e.next=23;break}return r={handle:p,id:a,ancestor:n,children:[]},e.next=21,Object(H.a)(t,J)[J].call(t,r);case 21:e.next=24;break;case 23:r={handle:p,id:a,ancestor:n};case 24:n.children.push(r),n.children.sort(Object(H.a)(t,X)[X]),Object(H.a)(t,B)[B][a]=r;case 27:o=!0,e.next=7;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(5),u=!0,s=e.t0;case 36:if(e.prev=36,e.prev=37,o||null==d.return){e.next=41;break}return e.next=41,d.return();case 41:if(e.prev=41,!u){e.next=44;break}throw s;case 44:return e.finish(41);case 45:return e.finish(36);case 46:e.next=50;break;case 48:e.prev=48,e.t1=e.catch(1);case 50:return e.abrupt("return",n);case 51:case"end":return e.stop()}}),e,null,[[1,48],[5,32,36,46],[37,,41,45]])})));return function(t){return e.apply(this,arguments)}}()}),Object(H.a)(e,G)[G])return Object(H.a)(e,G)[G];Object(H.a)(e,G)[G]=this}return Object(D.a)(e,[{key:"getfileSystemTree",value:function(){return Object(H.a)(this,V)[V]}},{key:"getSearchTable",value:function(){return Object(H.a)(this,B)[B]}},{key:"getfileTable",value:function(){return Object(H.a)(this,W)[W]}},{key:"getRootHandler",value:function(){return Object(H.a)(this,z)[z]}},{key:"findIdFromSearchTable",value:function(e){return Object(H.a)(this,B)[B][e]}},{key:"idToFileHandler",value:function(e){return Object(H.a)(this,W)[W][e]?Object(H.a)(this,W)[W][e]:Object(H.a)(this,B)[B][e]?Object(H.a)(this,B)[B][e].handle:null}},{key:"createNewFilePlaceHolder",value:function(){var e=Object(U.a)();return Object(H.a)(this,W)[W][e]=null,e}},{key:"importFolder",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(H.a)(this,V)[V]=[],Object(H.a)(this,B)[B]={},t={handle:Object(H.a)(this,z)[z],id:Object(U.a)(),children:[]},Object(H.a)(this,B)[B][t.id]=t,Object(H.a)(this,B)[B].rootId=t.id,e.next=7,Object(H.a)(this,J)[J].call(this,t);case 7:Object(H.a)(this,V)[V].push(t);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFileInfo",value:function(){var e=Object(O.a)(j.a.mark((function e(t){var n,r,a,c,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,null===(n=Object(H.a)(this,z)[z])||void 0===n?void 0:n.resolve(t);case 2:if(r=e.sent){e.next=7;break}return e.abrupt("return",null);case 7:if(!("children"in(a=Object(H.a)(this,q)[q](r,Object(H.a)(this,V)[V],!0)))){e.next=16;break}return c=Object(U.a)(),i={id:c,handle:t,ancestor:a},a.children[c]=i,Object(H.a)(this,B)[B][c]=i,e.abrupt("return",c);case 16:return e.abrupt("return",a.id);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getFileInfo",value:function(){var e=Object(O.a)(j.a.mark((function e(t,n){var r,a,c,i,o,u,s,d,l,f,b,h,p,O;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(Object(H.a)(this,W)[W],Object(H.a)(this,B)[B]),r=[],e.next=4,Object(H.a)(this,K)[K](t,Object(H.a)(this,W)[W]);case 4:if(t=e.sent,console.log(t,1),n&&n.length===t.length){e.next=36;break}a=Object(A.a)(t),e.prev=8,a.s();case 10:if((c=a.n()).done){e.next=26;break}return o=c.value,e.next=14,o.getFile();case 14:return u=e.sent,e.next=17,u.text();case 17:return s=e.sent,e.next=20,null===(i=Object(H.a)(this,z)[z])||void 0===i?void 0:i.resolve(o);case 20:d=e.sent,l=void 0,d?(f=Object(H.a)(this,q)[q](d,Object(H.a)(this,V)[V]),l=f.id,r.push({name:o.name,content:s,type:"infolder",id:l})):(l=Object(U.a)(),r.push({name:o.name,content:s,type:"standalone",id:l})),Object(H.a)(this,W)[W][l]=o;case 24:e.next=10;break;case 26:e.next=31;break;case 28:e.prev=28,e.t0=e.catch(8),a.e(e.t0);case 31:return e.prev=31,a.f(),e.finish(31);case 34:e.next=50;break;case 36:b=0;case 37:if(!(b<t.length)){e.next=50;break}return e.next=40,t[b].getFile();case 40:return h=e.sent,e.next=43,h.text();case 43:p=e.sent,O=n[b],r.push({name:t[b].name,content:p,type:"infolder",id:O}),Object(H.a)(this,W)[W][O]=t[b];case 47:b++,e.next=37;break;case 50:return e.abrupt("return",r);case 51:case"end":return e.stop()}}),e,this,[[8,28,31,34]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"removeFileFromFileTable",value:function(e){delete Object(H.a)(this,W)[W][e]}},{key:"updateFileTable",value:function(e,t,n){if(0===t.length||n.length!==t.length)return!1;if(e.length>0)for(var r=0;r<e.length;r++)e[r]in Object(H.a)(this,W)[W]&&delete Object(H.a)(this,W)[W][e[r]];for(var a=0;a<t.length;a++)t[a]in Object(H.a)(this,W)[W]||(Object(H.a)(this,W)[W][t[a]]=n[a]);return!0}},{key:"writeToFile",value:function(){var e=Object(O.a)(j.a.mark((function e(t,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.createWritable();case 2:return r=e.sent,e.next=5,r.write(n);case 5:return e.next=7,r.close();case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"getNewFileHandle",value:function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showSaveFilePicker();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return null;var r,a,c=e.pop(),i=t[0],o=Object(A.a)(e);try{var u=function(){var e=a.value;if(!(r=i.children.find((function(t){return"directory"===t.handle.kind&&t.handle.name===e}))))return{v:null};i=r};for(o.s();!(a=o.n()).done;){var s=u();if("object"===typeof s)return s.v}}catch(l){o.e(l)}finally{o.f()}var d=i.children.find((function(e){return"file"===e.handle.kind&&e.handle.name===c}));return d||(!1===n?null:i)}function $(e,t){return ee.apply(this,arguments)}function ee(){return(ee=Object(O.a)(j.a.mark((function e(t,n){var r,a,c,i,o,u,s,d,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Object.keys(n).length){e.next=2;break}return e.abrupt("return",t);case 2:r=Object.values(n).filter((function(e){return e})),a=[],c=Object(A.a)(t),e.prev=5,c.s();case 7:if((i=c.n()).done){e.next=34;break}o=i.value,u=!1,s=Object(A.a)(r),e.prev=11,s.s();case 13:if((d=s.n()).done){e.next=23;break}return l=d.value,e.next=17,l.isSameEntry(o);case 17:if(!e.sent){e.next=21;break}return u=!0,e.abrupt("break",23);case 21:e.next=13;break;case 23:e.next=28;break;case 25:e.prev=25,e.t0=e.catch(11),s.e(e.t0);case 28:return e.prev=28,s.f(),e.finish(28);case 31:u||a.push(o);case 32:e.next=7;break;case 34:e.next=39;break;case 36:e.prev=36,e.t1=e.catch(5),c.e(e.t1);case 39:return e.prev=39,c.f(),e.finish(39);case 42:return e.abrupt("return",a);case 43:case"end":return e.stop()}}),e,null,[[5,36,39,42],[11,25,28,31]])})))).apply(this,arguments)}Object.defineProperty(Q,G,{writable:!0,value:void 0}),Q.getRootDirectoryHandler=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showDirectoryPicker();case 2:return t=e.sent,Object(H.a)(Object(H.a)(Q,G)[G],Y)[Y](t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)}))),Q.getFileHandler=Object(O.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.showOpenFilePicker();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),Q.showRootHandler=function(){return Object(H.a)(Q,G)[G].getRootHandler()};var te,ne,re,ae,ce,ie,oe,ue,se,de,le,fe,be,he=Q,pe=new Q,je=n(3),Oe=b.c.header(te||(te=Object(f.a)(["\n  position: relative;\n  width: 100%;\n  height: ",";\n  display: flex;\n  align-items: center;\n  font-size: 0.8125rem;\n  background-color: ",";\n  border-bottom: 1px solid ",";\n"])),"2.5rem",(function(e){return e.theme.bg3}),(function(e){return e.theme.bg1})),ve=Object(b.c)(v.b)(ne||(ne=Object(f.a)(["\nwidth:4rem;\nheight:100%;\nbackground-color: ",";\ncolor:",";\nborder:0px;\nfont-size: 1rem;\n"])),(function(e){return e.theme.bg3}),(function(e){return e.theme.white})),xe=Object(b.c)(v.d)(re||(re=Object(f.a)(["\nbackground-color: ",";\ncolor:",";\n"])),(function(e){return e.theme.bg3}),(function(e){return e.theme.white})),me=Object(l.b)((function(e){return{editorState:e.fileSystem.editorState,currentIndex:e.fileSystem.currentIndex}}))((function(e){var t,n,r=Object(l.c)(),a=e.editorState,c=null===(t=a[e.currentIndex])||void 0===t?void 0:t.id,i=(null===(n=a.find((function(e){return e.id===c})))||void 0===n||n.type,function(){var e=Object(O.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.getRootDirectoryHandler();case 2:e.sent&&r(R.getDirHandler());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),o=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.getFileHandler();case 2:(t=e.sent)&&r(R.open(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=pe.createNewFilePlaceHolder(),r(R.newFile(t));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(O.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(R.save());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(O.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he.getNewFileHandle();case 2:t=e.sent,r(R.saveAs(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(je.jsxs)(Oe,{children:[Object(je.jsx)("div",{style:{width:"0.5rem"},children:"       "}),Object(je.jsxs)(v.a,{children:[Object(je.jsx)(ve,{children:"File"}),Object(je.jsxs)(xe,{children:[Object(je.jsx)(v.c,{onSelect:u,children:"New File"}),Object(je.jsx)(v.c,{onSelect:o,children:"Open File..."}),Object(je.jsx)(v.c,{onSelect:i,children:"Open Folder..."}),Object(je.jsx)(v.c,{onSelect:s,children:"Save"}),Object(je.jsx)(v.c,{onSelect:d,children:"Save As..."})]})]})]})})),ye=n(123),we=n(70),ge=n.n(we),Se=n(71),Ee=n.n(Se),ke=n(121),Ie=function(e){var t=e.children,n=e.node,r=e.editorState,a=Object(l.c)();return Object(je.jsx)(ke.a,{nodeId:n.id,label:n.name,onDoubleClick:function(e){e.stopPropagation();var t=n.id,c=pe.getSearchTable();if(void 0!==c[t]){var i=c[t];"file"===i.handle.kind&&void 0===r.find((function(e){return e.id===t}))&&a(E([i.handle],[t]))}},children:t},n.id)},Te=function(e){var t=e.fileSystem,n=Object(je.jsx)(ye.a,{defaultCollapseIcon:Object(je.jsx)(ge.a,{}),defaultExpandIcon:Object(je.jsx)(Ee.a,{}),children:""!==t.rootId?function e(t,n,r){return t?[Object(je.jsx)(Ie,{node:t,editorState:r,children:"children"in t&&Array.isArray(t.children)?t.children.map((function(t){return e(n[t],n,r)})):[]},t.id)]:[]}(t.fileSystemState[t.rootId],t.fileSystemState,t.editorState):[]});return Object(je.jsx)(je.Fragment,{children:""!==t.rootId?n:[]})},_e=b.c.div(ae||(ae=Object(f.a)(["\n  width: 20rem;\n  min-width: 10rem;\n  height: 100%;\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.bg3})),Fe=b.c.div(ce||(ce=Object(f.a)(["\n  height: 2rem;\n  padding: 0 0.5rem;\n  display: flex;\n  align-items: center;\n  color: ",";\n  font-size: 0.8125rem;\n  color: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.bg2})),Re=b.c.div(ie||(ie=Object(f.a)(["\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n"]))),Ne=Object(l.b)((function(e){return e}))((function(e){var t=e.fileSystem;return Object(je.jsxs)(_e,{children:[Object(je.jsx)(Fe,{children:"Explorer"}),Object(je.jsx)(Re,{children:Object(je.jsx)(Te,{fileSystem:t})})]})})),Ae=n(17),Ce=n(76),Pe=n(122),De=n(120),He=n(72),Le=n.n(He),Me=n(74),Ue=function(e){var t=e.id,n=e.content,r=e.onChange;return Object(je.jsx)(Me.a,{value:n,onChange:r,theme:"vs-dark",language:"typescript",height:"90%",path:t,options:{wordWrap:"on",minimap:{enabled:!1},showUnused:!1,folding:!1,lineNumbersMinChars:3,fontSize:16,scrollBeyondLastLine:!1,automaticLayout:!0}})},Ve=["children"],ze=b.c.div(oe||(oe=Object(f.a)(["\n  width: 100%;\n  min-width: 25rem;\n  height: 100%;\n  border-right: 1px solid ",";\n"])),(function(e){return e.theme.bg3})),We=b.c.div(ue||(ue=Object(f.a)(["\n  height: 2rem;\n  padding: 0 0;\n  display: flex;\n  align-items: center;\n  color: ",";\n  font-size: 0.8125rem;\n\n  color: ",";\n  background-color: ",";\n"])),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.bg2})),Be=b.c.div(se||(se=Object(f.a)(["\n  height: 100%;\n  width: 100%;\n  overflow-y: auto;\n  \n"]))),Ge=Object(b.c)((function(e){var t=e.children,n=Object(Ce.a)(e,Ve);return Object(je.jsx)(Pe.a,Object(Ae.a)(Object(Ae.a)({},n),{},{children:t}))}))(de||(de=Object(f.a)(["\n  width: 100%;\n  height: auto;\n  & .MuiTouchRipple-root {\n    visibility: hidden;\n  }\n"]))),Xe=Object(l.b)((function(e){return{editorState:e.fileSystem.editorState,currentIndex:e.fileSystem.currentIndex}}))((function(e){var t,n,r=e.editorState,a=e.currentIndex,c=null===(t=r[a])||void 0===t?void 0:t.id,i=function(t,n){t.stopPropagation(),e.dispatch(S(n))};return Object(je.jsxs)(ze,{children:[Object(je.jsx)(We,{children:Object(je.jsxs)(Ge,{value:a,onChange:function(t,n){e.dispatch(I(n))},variant:"scrollable",scrollButtons:"auto",children:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e.map((function(e,t){var n=Object(je.jsxs)("div",{children:[Object(je.jsx)("span",{children:e.name}),Object(je.jsx)(Le.a,{fontSize:"small",viewBox:"-3 -7 26 26",onClick:function(e){return i(e,t)}})]});return Object(je.jsx)(De.a,{label:n,value:t})}))}(r),";"]})}),Object(je.jsx)(Be,{children:Object(je.jsx)(Ue,{id:c,content:null===(n=r[r.findIndex((function(e){return e.id===c}))])||void 0===n?void 0:n.content,onChange:function(t,n){e.dispatch(g(t))}})})]})})),Ye=Object(b.b)(le||(le=Object(f.a)(["\n  html,\n  body {\n    background-color: ",";\n    margin: 0;\n    width: 100vw;\n    height: 100vh;\n    overflow: hidden;\n    color: ",';\n\n    font-family: "Inter", Roboto, -apple-system, BlinkMacSystemFont, "Segoe UI",\n      Roboto, Oxygen, Ubuntu, Cantarell, "Open Sans", "Helvetica Neue",\n      sans-serif;\n\n    text-rendering: optimizeLegibility;\n    color: ',";\n    font-size: 16px !important;\n\n    -ms-overflow-style: -ms-autohiding-scrollbar;\n  }\n\n  #root {\n    height: 100%;\n  }\n\n  button {\n    font-family: inherit;\n  }\n\n  a {\n    transition: 0.3s ease color;\n    color: rgba(255, 255, 255, 0.8);\n    font-weight: 600;\n\n    text-decoration: none;\n\n\n    &:hover {\n      color: ",";\n    }\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n"])),(function(e){return e.theme.bg1}),(function(e){return e.theme.white}),(function(e){return e.theme.white}),(function(e){return e.theme.white})),Je=b.c.div(fe||(fe=Object(f.a)(["\n  display: flex;\n  height: 100%;\n"]))),qe=b.c.main(be||(be=Object(f.a)(["\n  height: 100%;\n"]))),Ke=function(){return Object(je.jsx)(b.a,{theme:h,children:Object(je.jsxs)(qe,{children:[Object(je.jsx)(Ye,{}),Object(je.jsx)(me,{}),Object(je.jsxs)(Je,{children:[Object(je.jsx)(Ne,{}),Object(je.jsx)(Xe,{})]})]})})},Qe=function(){return Object(je.jsx)(Ke,{})},Ze=n(73),$e={rootId:"",fileSystemState:{},editorState:[],currentIndex:-1},et=function(e){var t,n,r=[];for(var a in e)"rootId"!==a&&(t={name:(n=e[a]).handle.name,id:n.id,kind:n.handle.kind,children:"children"in n?n.children.map((function(e){return e.id})):void 0},r.push([a,t]));var c=Object.fromEntries(r);return{rootId:e.rootId,fileSystemState:c}},tt=Object(Ze.a)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.IMPORT_FOLDER:var n=t.payload.searchTable;return Object(Ae.a)(Object(Ae.a)({},et(n)),{},{editorState:[],currentIndex:-1});case a.NEW_EDITOR:var r=t.payload.fileArray;return r.forEach((function(t){e.editorState.push({id:t.id,name:t.name,content:t.content,type:t.type})})),e.currentIndex=e.editorState.length-1,e;case a.CHANGE_EDITOR_CONTENT:var c=t.payload.content;return e.editorState[e.currentIndex].content=c,e;case a.CLOSE_EDITOR:var i=t.payload.index,o=e.editorState[i].id,u=e.editorState;return pe.removeFileFromFileTable(o),-1!==i&&u.splice(i,1),i>=u.length&&(e.currentIndex-=1),e;case a.NEW_FILE:return e.editorState.push({id:t.payload.id,name:"New File",content:"",type:"new"}),e.currentIndex=e.editorState.length-1,e;case a.SET_CURRENT_INDEX:return e.currentIndex=t.payload.index,e;case a.SAVE_AS_STATE_UPDATE:var s=t.payload,d=s.desId,l=s.desName,f=s.desType,b=s.ancestorId;return"infolder"!==f||d in e.fileSystemState||(e.fileSystemState[d]={name:l,id:d,kind:"file",children:void 0},b&&(e.fileSystemState[b].children.push(d),e.fileSystemState[b].children.sort())),e.editorState[e.currentIndex].id=d,e.editorState[e.currentIndex].name=l,e.editorState=e.editorState.filter((function(t,n){return n===e.currentIndex||t.id!==d})),e.currentIndex=e.editorState.findIndex((function(e){return e.id===d})),e;default:return e}})),nt=Object(s.b)({fileSystem:tt}),rt=n(11),at=j.a.mark(pt),ct=j.a.mark(jt),it=j.a.mark(Ot),ot=j.a.mark(vt),ut=j.a.mark(xt),st=j.a.mark(mt),dt=j.a.mark(yt),lt=j.a.mark(wt),ft=j.a.mark(gt),bt=j.a.mark(St),ht=j.a.mark(Et);function pt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.b)(pe.importFolder.bind(pe));case 2:return e.next=4,Object(rt.c)(R.importFolder({searchTable:pe.getSearchTable()}));case 4:case"end":return e.stop()}}),at)}function jt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.e)(N.GET_DIRECTORY_HANDLER,pt);case 2:case"end":return e.stop()}}),ct)}function Ot(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(rt.b)(pe.getFileInfo.bind(pe),e.payload.fileHandler);case 2:return t=n.sent,n.next=5,Object(rt.c)(R.newEditor(t));case 5:case"end":return n.stop()}}),it)}function vt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.e)(N.OPEN,Ot);case 2:case"end":return e.stop()}}),ot)}function xt(e){var t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(0,e.payload.fileHandler,e.payload.id),n.next=3,Object(rt.b)(pe.getFileInfo.bind(pe),e.payload.fileHandler,e.payload.id);case 3:return t=n.sent,console.log(t),n.next=7,Object(rt.c)(R.newEditor(t));case 7:case"end":return n.stop()}}),ut)}function mt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.e)(N.OPEN_TREE_ITEM,xt);case 2:case"end":return e.stop()}}),st)}function yt(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.e)(N.SAVE,wt);case 2:case"end":return e.stop()}}),dt)}function wt(e){var t,n,r,a,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.d)((function(e){return{srcIndex:e.fileSystem.currentIndex,editorState:e.fileSystem.editorState}}));case 2:return t=e.sent,n=t.srcIndex,r=t.editorState,a=r[n].id,c=pe.idToFileHandler(a),e.next=9,Object(rt.c)(R.saveAs(c));case 9:case"end":return e.stop()}}),lt)}function gt(e){var t,n,r,a,c,i,o,u,s,d;return j.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(rt.d)((function(e){return{srcIndex:e.fileSystem.currentIndex,editorState:e.fileSystem.editorState}}));case 2:return t=l.sent,n=t.srcIndex,r=t.editorState,a=r[n].id,c=r.find((function(e){return e.id===a})),i=e.payload.destinationHandler,l.prev=8,l.next=11,Object(rt.b)(pe.writeToFile.bind(pe),i,c.content);case 11:l.next=17;break;case 13:return l.prev=13,l.t0=l.catch(8),console.log("write error: "+l.t0.name),l.abrupt("return");case 17:return l.next=19,Object(rt.b)(pe.addFileInfo.bind(pe),i);case 19:return o=l.sent,u="infolder",s=void 0,null===o?(o=Object(U.a)(),u="standalone"):s=null===(d=pe.findIdFromSearchTable(o).ancestor)||void 0===d?void 0:d.id,l.next=25,Object(rt.b)(pe.updateFileTable.bind(pe),[a],[o],[i]);case 25:return l.next=27,Object(rt.c)(R.saveAsStateUpdate(o,i.name,u,s));case 27:case"end":return l.stop()}}),ft,null,[[8,13]])}function St(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.e)(N.SAVE_AS,gt);case 2:case"end":return e.stop()}}),bt)}function Et(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(rt.a)([jt(),vt(),mt(),St(),yt()]);case 2:case"end":return e.stop()}}),ht)}var kt=Et,It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.c,Tt=Object(d.a)(),_t=Object(s.d)(nt,It(Object(s.a)(Tt)));Tt.run(kt);var Ft=function(){return Object(je.jsx)(l.a,{store:_t,children:Object(je.jsx)(Qe,{})})},Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,126)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))};u.a.render(Object(je.jsx)(i.a.StrictMode,{children:Object(je.jsx)(Ft,{})}),document.getElementById("root")),Rt()}},[[99,1,2]]]);
//# sourceMappingURL=main.1d83ea30.chunk.js.map